<!doctype html>
<html>
<head>
<title>P/L calculator</title>
</head>
<body>

<table>
<tr>
  <td>Price1</td>
  <td><input type="number" id="price1_value"></td>
  <td><input type="range" min="8000" max="13000" value="10000" id="price1"></td>
</tr>
<tr>
  <td>Price2</td>
  <td><input type="number" id="price2_value"></td>
  <td><input type="range" min="8000" max="13000" value="10000" id="price2"></td>
</tr>
<tr>
  <td>Amount</td>
  <td><input type="number" value="0.05" id="amount"></td>
</tr>
<tr>
  <td>P/L</td>
  <td><input type="text" id="pl"></td>
</tr>
<tr>
  <td>P/L without fee</td>
  <td><input type="text" id="pl1"></td>
</tr>
<tr>
  <td>Fee1</td>
  <td><input type="text" id="fee1"></td>
</tr>
<tr>
  <td>Fee2</td>
  <td><input type="text" id="fee2"></td>
</tr>
</table>
<script>
function pl(price1, price2, amount) {
  const pl = Math.abs(price1 - price2) * amount
  const amount1 = Math.abs(amount) * price1
  const amount2 = Math.abs(amount) * price2
  const fee1 = amount1 * 0.001;
  const fee2 = amount2 * 0.001;
  return [pl - fee1 - fee2, pl, fee1, fee2];
}
document.getElementById('price1').addEventListener('change', (e) => {
  const price1 = e.target.value
  document.getElementById('price1_value').value = price1
  const price2 = document.getElementById('price2').value
  const amount = document.getElementById('amount').value
  const [pl, pl1, fee1, fee2] = pl(price1, price2, amount)
  document.getElementById('pl').value = pl
  document.getElementById('pl1').value = pl1
  document.getElementById('fee1').value = fee1
  document.getElementById('fee2').value = fee2
})
document.getElementById('price2').addEventListener('change', (e) => {
  const price2 = e.target.value
  document.getElementById('price2_value').value = price2
  const price1 = document.getElementById('price1').value
  const amount = document.getElementById('amount').value
  const [pl, pl1, fee1, fee2] = pl(price1, price2, amount)
  document.getElementById('pl').value = pl
  document.getElementById('pl1').value = pl1
  document.getElementById('fee1').value = fee1
  document.getElementById('fee2').value = fee2
})
document.getElementById('amount').addEventListener('change', (e) => {
  const amount = e.target.value
  const price1 = document.getElementById('price1').value
  const price2 = document.getElementById('price2').value
  const [pl, pl1, fee1, fee2] = pl(price1, price2, amount)
  document.getElementById('pl').value = pl
  document.getElementById('pl1').value = pl1
  document.getElementById('fee1').value = fee1
  document.getElementById('fee2').value = fee2})
</script>
</body>
</html>
