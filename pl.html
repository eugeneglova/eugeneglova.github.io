<!doctype html>
<html>
<head>
<title>P/L calculator</title>
</head>
<body>

<table>
<tr>
  <td>Base price</td>
  <td><input type="number" value="10200" id="basePrice"></td>
  <td>Fee1 %</td>
  <td><input type="number" value="0.1" id="fee1p"></td>
  <td>Fee1</td>
  <td><input type="number" id="fee1"></td>
</tr>
<tr>
  <td>Price</td>
  <td><input type="number" value="10251" id="price"></td>
  <td>Fee2 %</td>
  <td><input type="number" value="0.1" id="fee2p"></td>
  <td>Fee2</td>
  <td><input type="number" id="fee2"></td>
</tr>
<tr>
  <td>Amount</td>
  <td><input type="number" value="0.05" id="amount"></td>
</tr>
<tr>
  <td>P/L</td>
  <td><input type="text" id="pl"></td>
</tr>
<tr>
  <td>P/L without fee</td>
  <td><input type="text" id="pl_without_fee"></td>
</tr>
</table>
<script>
function updatePL() {
  const basePrice = document.getElementById('basePrice').value
  const price = document.getElementById('price').value
  const amount = document.getElementById('amount').value
  const pl = (amount > 0 ? price - basePrice : basePrice - price) * Math.abs(amount)
  const amount1 = Math.abs(amount) * basePrice
  const amount2 = Math.abs(amount) * price
  const fee1 = amount1 * document.getElementById('fee1p').value / 100;
  const fee2 = amount2 * document.getElementById('fee2p').value / 100;
  document.getElementById('pl').value = (pl - fee1 - fee2).toFixed(5)
  document.getElementById('pl_without_fee').value = pl.toFixed(5)
  document.getElementById('fee1').value = fee1.toFixed(5)
  document.getElementById('fee2').value = fee2.toFixed(5)
}
document.getElementById('basePrice').addEventListener('input', updatePL)
document.getElementById('price').addEventListener('input', updatePL)  
document.getElementById('amount').addEventListener('input', updatePL)
document.getElementById('fee1p').addEventListener('input', updatePL)
document.getElementById('fee2p').addEventListener('input', updatePL)
</script>
</body>
</html>
